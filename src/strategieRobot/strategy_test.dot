#init Init
digraph statemachine {

    //blue side state machine 
    Init [comment="enter:init_enter;leave:init_leave"]
    End  [comment="enter:end_enter"]
    DropCerise [comment="enter:cerise_enter;leave:cerise_leave"]
    GoGreen [comment="enter:gogreen_enter;loop:loop_gogreen"]
    PushCake [comment="enter:pushcake_enter;leave:pushcake_leave"]
    GoBlue  [comment="enter:goblue_enter;leave:goblue_leave"]
    RecalInit [comment="enter:debut_recal"]
    RecalGreen [comment="enter:debut_recal"]
    RecalCake [comment="enter:debut_recal"]
    RecalBlue [comment="enter:debut_recal"]

    Init -> RecalInit [label="match_started"]
    //Init -> GoGreen [label="match_started"]
    RecalInit -> DropCerise [label="recal_ok"]
    DropCerise -> GoGreen [label="cerise_dropped"]
    GoGreen -> RecalGreen [label="at_green"]
    RecalGreen -> PushCake [label="recal_ok"]
    PushCake -> RecalCake [label="cake_pushed"]
    RecalCake -> GoBlue [label="recal_ok"]
    GoBlue -> RecalBlue [label="at_blue"]
    RecalBlue -> End [label="recal_ok"]
    {GoGreen PushCake} -> End [label="match_end_guard"]

}
